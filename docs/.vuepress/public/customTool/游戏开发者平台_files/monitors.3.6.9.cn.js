var monitors=function(t){"use strict";var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function v(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||0<e--)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}(arguments[e]));return t}function a(t){return"object"==typeof t&&null!==t&&!l(t)}function n(t){return"[object Object]"===(t=t,Object.prototype.toString.call(t))}function u(t){return"function"==typeof t}function c(t){return"[object String]"===Object.prototype.toString.call(t)}function l(t){return"[object Array]"===Object.prototype.toString.call(t)}function m(t){return"number"==typeof t}function e(t,e){if(a(t))for(var n in t)r=t,i=n,Object.prototype.hasOwnProperty.call(r,i)&&e.call(null,n,t[n]);var r,i}function r(){if("fetch"in window)try{return new Headers,new Request(""),new Response,1}catch(t){return}}function i(){return!!a(window)}function p(){return i()&&!!a(window.performance)}function f(){return p()&&!!a(window.performance.timing)}function h(){return!!p()&&!!u(window.performance.getEntries)}function d(){return!(!u(requestAnimationFrame)||!u(cancelAnimationFrame))}function g(){return!(!window.setTimeout||!u(setTimeout))}function y(){return i()&&"function"==typeof window.PerformanceObserver}function b(){return!!y()&&u(window.PerformanceLongTaskTiming)}function w(){if(!y())return!1;var t=window.PerformanceObserverEntryList;return u(t)&&u(t.prototype.getEntries)}function S(t){var n,t=function(t){if(!a(t))return{};var n={};return e(t,function(t,e){a(e)||l(e)?n[t]=JSON.stringify(e):n[t]=e}),n}(t),t=(n={},e(t,function(t,e){n[encodeURIComponent(t)]=encodeURIComponent(e)}),n),r=[];return e(t,function(t,e){r.push(t+"="+e)}),r.join("&")}function T(t){var e=document.createElement("a");e.href=t;t=e.pathname||"/";return"/"!==t[0]&&(t="/"+t),{href:e.href,protocol:e.protocol.slice(0,-1),hostname:e.hostname,host:e.host,search:e.search,pathname:t,hash:e.hash}}function k(){}function E(e,n){u(e)&&(u(window.addEventListener)&&(window.addEventListener("unload",e),window.addEventListener("beforeunload",e),window.addEventListener("pagehide",e)),u(document.addEventListener)&&document.addEventListener("visibilitychange",function(t){u(n)?n(t):"hidden"===document.visibilityState&&e(t)}))}function L(){return(new Date).getTime()}var M=(P.post=function(t,e,n){var r,i=null!==(r=null==n?void 0:n.success)&&void 0!==r?r:k,o=null!==(n=null==n?void 0:n.fail)&&void 0!==n?n:k,n=new XMLHttpRequest;n.open("POST",t,!0),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e)),n.onload=function(){try{var t;this.responseText?(t=JSON.parse(this.responseText),i(t)):i({})}catch(t){o()}},n.onerror=function(){o()},n.onabort=function(){o()}},P.get=function(t,e){var n=null!==(s=null==e?void 0:e.success)&&void 0!==s?s:k,r=null!==(s=null==e?void 0:e.fail)&&void 0!==s?s:k,i=null!==(s=null==e?void 0:e.getResponse)&&void 0!==s?s:k,o=null!==(s=null==e?void 0:e.getResponseText)&&void 0!==s?s:k,s=new XMLHttpRequest;null!=e&&e.withCredentials&&(s.withCredentials=e.withCredentials),s.open("GET",t),s.send(),s.onload=function(){i(null==this?void 0:this.response),o(this.responseText);try{var t;this.responseText?(t=JSON.parse(this.responseText),n(t)):n({})}catch(t){r()}},s.onerror=function(){r()},s.onabort=function(){r()}},P.prototype.getCommonParams=function(){return{timestamp:Date.now()}},P);function P(t){var e=this;this.postEvent=function(t){t=o(o({},t),e.getCommonParams());P.post(e.url,t)},this.getEvent=function(t){t=S(o(o({},t),e.getCommonParams())),t=e.url+"?"+t;P.get(t)},this.getURL=function(){return e.url},this.options=t,this.url=this.options.reportURL}function R(){return u(Date)?Math.round(Date.now()/1e3):0}function C(t,n){if(!a(t))return{};if(!u(n))return{};var r={};return e(t,function(t,e){n(e)&&(r[t]=e)}),r}function _(t){var e,n,r,i,o=null;return a(t)&&("timer"===t.type&&(o=a(e=t.event)&&c(e.name)&&m(e.value)?{metrics_type:"timer",event_name:"default",metrics:((n={})[e.name]=e.value,n),category:C(e.tags,c),timestamp:R()}:{}),"counter"===t.type&&(o=a(i=t.event)&&c(i.name)&&m(i.value)?{metrics_type:"counter",event_name:"default",metrics:((r={})[i.name]=i.value,r),category:C(i.tags,c),timestamp:R()}:{}),"log"===t.type&&(o=a(r=t.event)&&c(r.value)?{metrics_type:"log",event_name:"default",log_content:r.value,log_level:null!==(i=r.level)&&void 0!==i?i:"info",category:C(r.tags,c),timestamp:R()}:{}),"custom"===t.type&&(o=a(t=t.event)&&c(t.event_name)?{metrics_type:"custom",event_name:t.event_name,metrics:C(t.metrics,m),category:C(t.tags,c),timestamp:R()}:{})),o}function I(){}var O=!1,x=!1,F={uniqueId:0,originals:{},proxies:{},patchXMLHTTPRequest:function(o){this.originals.send=XMLHttpRequest.prototype.send,XMLHttpRequest.prototype.send=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=F.uniqueId++;o.beforeCb(r);var i=this.onreadystatechange;return this.onreadystatechange=function(t){null!=i&&i.call(e,t),4===e.readyState&&o.afterCb(r)},F.originals.send.apply(this,t)},this.proxies.send=XMLHttpRequest.prototype.send},patchFetch:function(i){var o;r()&&(o=window.fetch,this.originals.fetch=o,window.fetch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Promise(function(e,n){var r=F.uniqueId++;i.beforeCb(r),o.apply(void 0,s(t)).then(function(t){i.afterCb(r),e(t)},function(t){i.afterCb(r,t),n(t)})})},this.proxies.fetch=window.fetch)},observeResourceFetchingMutations:function(s){if(i()&&"function"==typeof window.MutationObserver){var a=["img","script","iframe","link","audio","video","source"],t=new MutationObserver(function(t){var e,n;try{for(var r=v(t),i=r.next();!i.done;i=r.next()){var o=i.value;("childList"===o.type&&function t(e,n){var r,i;try{for(var o=v(e),s=o.next();!s.done;s=o.next()){var a=s.value;if(n.includes(a.nodeName.toLowerCase())||a.children&&t(a.children,n))return 1}}catch(t){r={error:t}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}}(o.addedNodes,a)||"attributes"===o.type&&a.includes(o.target.nodeName.toLowerCase()))&&s(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}});return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}},resetOriginals:function(){this.originals.send&&XMLHttpRequest.prototype.send===this.proxies.send&&(O=!1,XMLHttpRequest.prototype.send=this.originals.send),this.originals.fetch&&fetch===this.proxies.fetch&&(x=!1,window.fetch=this.originals.fetch)}},A="TTIMonitor",N=(q.prototype.setup=function(){},q.prototype.isEnable=function(){return b()&&!!y()&&u(window.PerformanceResourceTiming)&&w()},q.prototype.registerPerformanceObserver=function(){var a=this;this.performanceObserver=new PerformanceObserver(function(t){var e,n,r=t.getEntries();try{for(var i=v(r),o=i.next();!o.done;o=i.next()){var s=o.value;"resource"===s.entryType&&a.networkRequestFinishedCallback(s),"longtask"===s.entryType&&a.longTaskFinishedCallback(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}});try{this.performanceObserver.observe({type:"longtask"}),this.performanceObserver.observe({type:"resource",buffered:!0})}catch(t){this.performanceObserver.observe({entryTypes:["longtask","resource"]})}},q.prototype.unregisterListeners=function(){this.performanceObserver&&this.performanceObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),F.resetOriginals(),this.proxyConfig&&(this.proxyConfig.beforeCb=I,this.proxyConfig.afterCb=I)},q.prototype.rescheduleTimer=function(t){var e=this;this.scheduleTimerTasks&&(this.timerActivationTime>t||(clearTimeout(this.timerId),this.timerId=window.setTimeout(function(){e.checkTTI()},t-performance.now()),this.timerActivationTime=t))},q.prototype.startSchedulingTimerTasks=function(){this.scheduleTimerTasks=!0;var t=0<this.longTasks.length?this.longTasks[this.longTasks.length-1].end:0,e=this.computeLastKnownNetwork2Busy(this.incompleteRequestStarts,this.networkRequests);this.rescheduleTimer(Math.max(e+5e3,t))},q.prototype.registerListeners=function(){O||(F.patchXMLHTTPRequest(this.proxyConfig),O=!0),x||(F.patchFetch(this.proxyConfig),x=!0),this.registerPerformanceObserver(),this.useMutationObserver&&(this.mutationObserver=F.observeResourceFetchingMutations(this.mutationObserverCallback.bind(this)))},q.prototype.mutationObserverCallback=function(t){this.rescheduleTimer(performance.now()+5e3)},q.prototype.beforeJSInitiatedRequestCallback=function(t){this.incompleteJSInitiatedRequestStartTimes[t]=performance.now()},q.prototype.afterJSInitiatedRequestCallback=function(t){this.incompleteJSInitiatedRequestStartTimes[t]=void 0},q.prototype.networkRequestFinishedCallback=function(t){this.networkRequests.push({start:t.fetchStart,end:t.responseEnd}),this.rescheduleTimer(this.computeLastKnownNetwork2Busy(this.incompleteRequestStarts,this.networkRequests)+5e3)},Object.defineProperty(q.prototype,"incompleteRequestStarts",{get:function(){for(var t=Object.keys(this.incompleteJSInitiatedRequestStartTimes),e=[],n=0;n<t.length;n++){var r=this.incompleteJSInitiatedRequestStartTimes[t[n]];"number"==typeof r&&e.push(r)}return e},enumerable:!1,configurable:!0}),q.prototype.longTaskFinishedCallback=function(t){var e=t.startTime+t.duration;this.longTasks.push({start:t.startTime,end:e}),this.rescheduleTimer(e+5e3)},q.prototype.checkTTI=function(){var t=this.computeLastKnownNetwork2Busy(this.incompleteRequestStarts,this.networkRequests),e=this.getFirstPaintTime()||performance.timing.domContentLoadedEventEnd-performance.timing.navigationStart,n=this.getMinValue(),r=performance.now();null===n&&this.rescheduleTimer(Math.max(t+5e3,r+1e3));r=this.computeTTI(e,n,t,r,this.longTasks);r?(this.callback&&"function"==typeof this.callback&&this.callback(Math.round(r)),this.disable()):this.rescheduleTimer(performance.now()+1e3)},q.prototype.getMinValue=function(){if(this.minValue)return this.minValue;if(performance.timing.domContentLoadedEventEnd){var t=performance.timing;return t.domContentLoadedEventEnd-t.navigationStart}return null},q.prototype.getFirstPaintTime=function(){if("PerformancePaintTiming"in window){var t=performance.getEntriesByType("paint")[0];return t?t.startTime:0}return 0},q.prototype.disable=function(){clearTimeout(this.timerId),this.scheduleTimerTasks=!1,this.unregisterListeners(),this.snippetObserver&&this.snippetObserver.disconnect(),this.snippetEntries&&this.snippetEntries.splice(0,this.snippetEntries.length)},q.prototype.computeLastKnownNetwork2Busy=function(t,e){var n,r,i,o;if(2<t.length)return performance.now();var s=[];try{for(var a=v(e),u=a.next();!u.done;u=a.next()){var c=u.value;s.push({timestamp:c.start,type:"requestStart"}),s.push({timestamp:c.end,type:"requestEnd"})}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}try{for(var l=v(t),m=l.next();!m.done;m=l.next()){var p=m.value;s.push({timestamp:p,type:"requestStart"})}}catch(t){i={error:t}}finally{try{m&&!m.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}s.sort(function(t,e){return t.timestamp-e.timestamp});for(var f=t.length,h=s.length-1;0<=h;h--){var d=s[h];switch(d.type){case"requestStart":f--;break;case"requestEnd":if(2<++f)return d.timestamp;break;default:throw Error("Internal Error: This should never happen")}}return 0},q.monitorName=A,q);function q(t){var e,n,r,i=this;if(this.name=A,this.longTasks=[],this.callback=I,this.useMutationObserver=!0,this.minValue=null,this.isAsync=0,this.networkRequests=[],this.incompleteJSInitiatedRequestStartTimes={},this.timerActivationTime=-1/0,this.scheduleTimerTasks=!1,this.proxyConfig={beforeCb:this.beforeJSInitiatedRequestCallback.bind(this),afterCb:this.afterJSInitiatedRequestCallback.bind(this)},this.getTTI=function(t){i.callback=t,i.isEnable()?i.startSchedulingTimerTasks():i.callback&&"function"==typeof i.callback&&i.callback()},this.computeTTI=function(t,e,n,r,i){if(r-n<5e3)return null;i=0===i.length?t:i[i.length-1].end;return r-i<5e3?null:Math.max(i,e)},this.isEnable()){if(this.useMutationObserver=!!t.useMutationObserver,this.minValue=null!==(r=t.minValue)&&void 0!==r?r:null,this.isAsync=null!==(r=t.isAsync)&&void 0!==r?r:0,this.snippetEntries=null===(r=null==t?void 0:t.preLongTaskObserver)||void 0===r?void 0:r.precollect,this.snippetObserver=null===(t=null==t?void 0:t.preLongTaskObserver)||void 0===t?void 0:t.observer,!this.isAsync&&this.snippetEntries&&0<this.snippetEntries.length)try{for(var o=v(this.snippetEntries),s=o.next();!s.done;s=o.next()){var a=s.value;"longtask"===a.entryType?this.longTasks.push({start:a.startTime,end:a.startTime+a.duration}):"resource"===a.entryType&&this.networkRequests.push({start:a.fetchStart,end:a.responseEnd})}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}this.registerListeners()}}function J(){return Date.now()}var j=(B.prototype.begin=function(){this.currentTime=J(),this.beginTime=J(),this.frames=0},B.prototype.frame=function(){return this.currentTime=J(),this.currentTime-this.beginTime},B.prototype.end=function(){var t;return this.frames++,this.currentTime=J(),this.currentTime>=this.beginTime+this.duration&&(t=this.frames*this.duration/(this.currentTime-this.beginTime),this.beginTime=this.currentTime,this.frames=0),t},B);function B(t){this.beginTime=J(),this.frames=0,this.duration=null!=t?t:1e3,this.currentTime=J()}var D;(Dt=D=D||{}).once="once",Dt.repeat="repeat",Dt.frame="frame";var H="FPSMonitor",U=(z.prototype.setup=function(t){d()&&(this.fpsInstance=new j(1e3),this.callback=t||k,this.fpsInstance.begin(),this.mode!==D.repeat?this.mode!==D.frame?this.mode===D.once&&this.animateOnce():this.animateId=requestAnimationFrame(this.animateFrame.bind(this)):this.animateRepeat())},z.prototype.animateRepeat=function(){var t;d()&&(void 0!==(t=this.fpsInstance.end())&&(this.fpsList.push(t),this.sendFps(t)),this.animateId=requestAnimationFrame(this.animateRepeat))},z.prototype.animateOnce=function(){if(d()){var t=this.fpsInstance.end();if(void 0!==t)return this.fpsList.push(t),this.sendFps(t),void(this.fpsList.length>=Math.floor(this.onceTime/1e3)&&cancelAnimationFrame(this.animateId));this.animateId=requestAnimationFrame(this.animateOnce)}},z.prototype.animateFrame=function(){var t;!d()||void 0!==(t=this.fpsInstance.frame())&&(this.sendFrame(t),cancelAnimationFrame(this.animateId))},z.prototype.sendFps=function(t){u(this.callback)&&this.callback({name:this.name,type:"post",event:{ev_type:"fps",fps:t}})},z.prototype.sendFrame=function(t){u(this.callback)&&this.callback({name:this.name,type:"post",event:{ev_type:"frame_duration",frame:t}})},z.monitorName=H,z);function z(t){var e,n=this;this.name=H,this.callback=k,this.fpsInstance=null,this.animateId=0,this.fpsList=[],this.mode="once",this.onceTime=1e3,this.getFps=function(){return n.fpsList},t&&(this.mode=null!==(e=t.mode)&&void 0!==e?e:D.once,this.onceTime=null!==(t=t.onceTime)&&void 0!==t?t:1e3)}function Q(t){try{for(var e,n=t,r=[],i=0,o=0,s=" > ".length;n&&i++<5&&!("html"===(e=function(t){var e,n,r,i,o=t,s=[];if(!o||!o.tagName)return"";s.push(o.tagName.toLowerCase()),o.id&&s.push("#"+o.id);t=o.className;if(t&&c(t))for(e=t.split(/\s+/),i=0;i<e.length;i++)s.push("."+e[i]);var a=["type","name","title","alt"];for(i=0;i<a.length;i++)n=a[i],(r=o.getAttribute(n))&&s.push("["+n+'="'+r+'"]');return s.join("")}(n))||1<i&&80<=o+r.length*s+e.length);)r.push(e),o+=e.length,n=n.parentNode;return r.reverse().join(" > ")}catch(t){return"<unknown>"}}var V="FPSJankTimesMonitor",X=(G.prototype.setup=function(t){void 0===t&&(t=k),g()&&(this.callback=t,this.start())},G.prototype.getHistoryFrameList=function(){return this.historyFrameList},G.prototype.start=function(){this.fpsMonitor.setup(this.getFrameList.bind(this))},G.prototype.getFrameList=function(t){var e=this,n=t.event.frame,r=100<n,i=this.frameList.length,t={frame:n,isJank:r,timestamp:L()};this.historyFrameList.push(t),this.historyFrameList.length>(this.options.maxFrameListCount||30)&&this.historyFrameList.shift();n=this.frameList[i-1]||{},r=!t.isJank&&n.isJank,i=!t.isJank&&!n.isJank;t.isJank&&!n.isJank||r||t.isJank&&n.isJank?this.frameList.push(t):i&&(this.frameList=[t]),r&&(this.report(),this.frameList=[t]),this.timerId=window.setTimeout(function(){e.start()},100)},G.prototype.shouldReport=function(t){for(var e=0,n=0;n<t.length;n++){var r=t[n];if(200<r.frame)return!0;if(r.isJank&&e++,3<=e)return!0}return!1},G.prototype.report=function(){var t;this.shouldReport(this.frameList)&&(t={name:this.name,type:"post",event:{ev_type:"fps_jank_times",list:this.frameList,breadcrumbs:null!==(t=null===(t=this.breadcrumbMonitor)||void 0===t?void 0:t.getBreadcrumbs())&&void 0!==t?t:[],memory:null!==(t=null===(t=this.memoryRecordMonitor)||void 0===t?void 0:t.getMemoryQueue())&&void 0!==t?t:[]}},this.callback(t))},G.monitorName=V,G);function G(t){var n=this;this.name=V,this.historyFrameList=[],this.callback=k,this.onLeave=function(){var t,e;g()&&(1<n.frameList.length&&(n.report(),null!==(e=(t=n.options).report)&&void 0!==e&&e.call(t)),n.frameList=[],window.clearTimeout(n.timerId))},this.onShow=function(){g()&&(n.historyFrameList=[],n.frameList=[],n.start())},this.visibilityChange=function(){"hidden"===document.visibilityState&&n.onLeave(),"visible"===document.visibilityState&&n.onShow()},t.breadcrumbMonitor&&(this.breadcrumbMonitor=t.breadcrumbMonitor),t.memoryRecordMonitor&&(this.memoryRecordMonitor=t.memoryRecordMonitor),this.options=null!=t?t:{},this.fpsMonitor=new U({mode:"frame"}),this.frameList=[],this.timerId=0,E(this.onLeave,this.visibilityChange)}var W="FIDMonitor",K=(Y.prototype.setup=function(t){var a=this;if(y()&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("first-input")&&w()){this.callback=t,this.observer=new PerformanceObserver(function(t,e){var n,r;try{for(var i=v(t.getEntries()),o=i.next();!o.done;o=i.next()){var s=o.value,s=s.processingStart-s.startTime;a.callback({name:a.name,fid:Math.round(s)})}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.disconnect()});try{this.observer.observe({type:"first-input",buffered:!0})}catch(t){this.observer.observe({entryTypes:["first-input"]})}}},Y.monitorName=W,Y);function Y(){this.name=W,this.callback=k}var Z="MPFIDMonitor",$=(tt.prototype.setup=function(){var e,t,n,s=this;if(b()&&w()){if(!this.props.isAsync){var r=null!==(n=null===(n=this.props.preLongTaskObserver)||void 0===n?void 0:n.precollect)&&void 0!==n?n:[];if(r&&0<r.length)try{for(var i=v(r),o=i.next();!o.done;o=i.next()){var a=o.value;"longtask"===a.entryType&&this.list.push(a)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}}this.observer=new PerformanceObserver(function(t){var e,n;try{for(var r=v(t.getEntries()),i=r.next();!i.done;i=r.next()){var o=i.value;s.list.push(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}}),this.observer.observe({entryTypes:["longtask"]})}},tt.prototype.getMPFID=function(){var e,t;if(b()&&w()){this.observer&&this.observer.disconnect();var n=0;try{for(var r=v(this.list),i=r.next();!i.done;i=r.next()){var o=i.value;n<o.duration&&(n=o.duration)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(e)throw e.error}}return this.formatEvent(Math.round(n))}},tt.prototype.formatEvent=function(t){return{name:this.name,mpfid:t}},tt.monitorName=Z,tt);function tt(t){this.name=Z,this.list=[],this.props=t}var et=["xmlhttprequest","fetch"],nt="ResourcePerformanceMonitor",rt=(it.prototype.setup=function(t){this.isEnable()&&(this.callback=null!=t?t:k,this.isAsync&&window.performance.clearResourceTimings(),this.observe&&(this.sendResourcePerformance(performance.getEntriesByType("resource")),this.observePerformance()))},it.prototype.isEnable=function(){return h()&&"function"==typeof performance.clearResourceTimings},it.prototype.getPerformance=function(){return this.isEnable()?this.buildParams(this.getResources()):this.buildParams([])},it.prototype.buildParams=function(t){var e=this,n=[];if(t.forEach(function(t){(function(t,e){if(l(t)&&0!==t.length)for(var n=0;n<t.length;){if(t[n]===e)return 1;n++}})(et,t.initiatorType)||u(e.checkIgnore)&&e.checkIgnore(t)||n.push(t)}),n.length)return{name:this.name,type:"post",event:{ev_type:"resource_performance",resources:n}}},it.prototype.sendResourcePerformance=function(t){t=this.buildParams(t);t&&this.callback(t)},it.prototype.getResources=function(){return window.performance.getEntriesByType("resource")},it.prototype.observePerformance=function(){var e=this;y()&&new PerformanceObserver(function(t){t=t.getEntries();t.length&&e.sendResourcePerformance(t)}).observe({entryTypes:["resource"]})},it.monitorName=nt,it);function it(t){var e,n=this;this.name=nt,this.callback=k,this.getResourcePerformance=function(){var t;return null!==(t=n.getPerformance())&&void 0!==t?t:{}},this.isAsync=null!==(e=null==t?void 0:t.isAsync)&&void 0!==e?e:0,this.observe=null!==(e=null==t?void 0:t.observe)&&void 0!==e&&e,this.checkIgnore=null!==(t=null==t?void 0:t.checkIgnore)&&void 0!==t?t:function(){return!1}}var ot={ev_type:"perf",isAsync:0,dns:0,tcp:0,request:0,response:0,processing:0,blank:0,domready:0,load:0,has_resource:0,domparse:0,resource:0,ttfb:0,redirect:0,tti:0,upload_reason:"sample",network_type:"",timing:{},navigation_timing:{},navigation:{},resources:[]},st="PerformanceMonitor",at=(ut.prototype.setup=function(t){var e,n=this;f()&&(this.callback=t,e=function(){n.hasLoaded=!0,n.performanceAuto&&setTimeout(function(){n.perfLog()},200)},"complete"!==document.readyState?window.addEventListener("load",function(){setTimeout(function(){e()},0)},!1):e(),this.sendParams=o({},ot),this.staticPerformanceMonitor=new rt,this.staticPerformanceMonitor.setup(),(new K).setup(this.hasFID),this.mpfidMonitor=new $({isAsync:0,preLongTaskObserver:this.props.preLongTaskObserver}),this.mpfidMonitor.setup(),t=null!==(t=this.props.TTIMonitor)&&void 0!==t?t:N,this.ttiMonitor=new t({isAsync:0,preLongTaskObserver:this.props.preLongTaskObserver}),this.ttiMonitor.setup(),t=this.syncPerfLog.bind(this),E(t))},ut.prototype.performanceNow=function(){var t;return null!==performance&&void 0!==performance&&performance.now?performance.now():(Date.now?Date.now():+new Date)-(null!==(t=null===(t=performance.timing)||void 0===t?void 0:t.navigationStart)&&void 0!==t?t:0)},ut.prototype.getBounced=function(){return!this.hasLoaded},ut.prototype.getPaintTime=function(e){if(h()){var t=performance.getEntriesByType("paint");if(l(t)){t=t.filter(function(t){return t.name===e});return t.length&&t[0]&&a(t[0])&&t[0].startTime||0}}return 0},ut.monitorName=st,ut);function ut(t){var i=this;this.name=st,this.callback=k,this.sendParams=o({},ot),this.finalSendParams=this.sendParams,this.hasLoaded=!1,this.initStart=0,this.hasSentInitPerf=!1,this.initFlag=!0,this.performanceAuto=!0,this.send=function(){i.initFlag&&i.hasLoaded&&(i.sendParams.isAsync&&(i.sendParams.load=Math.round(i.performanceNow()-i.initStart)),setTimeout(function(){i.perfLog()},200))},this.initAsync=function(){var t,e;i.hasSentInitPerf&&(i.sendParams=o({},ot),i.sendParams.isAsync=1,i.initFlag=!0,i.initStart=i.performanceNow(),i.staticPerformanceMonitor=new rt({isAsync:1}),i.staticPerformanceMonitor.setup(),i.mpfidMonitor=new $({isAsync:1,preLongTaskObserver:i.props.preLongTaskObserver}),i.mpfidMonitor.setup(),e=null!==(t=i.props.TTIMonitor)&&void 0!==t?t:N,i.ttiMonitor=new e({minValue:Math.round(i.performanceNow()),isAsync:1,preLongTaskObserver:i.props.preLongTaskObserver}),i.ttiMonitor.setup(),null!==(e=null===(t=i.fmpMonitor)||void 0===t?void 0:t.setup)&&void 0!==e&&e.call(t,k))},this.getPerformance=function(){return i.finalSendParams.tti||("complete"===document.readyState?i.perfLog():i.perfLog(!0)),i.buildParams(i.finalSendParams)},this.buildParams=function(t){return{name:i.name,type:"post",event:t}},this.perfLog=function(t){if(void 0===t&&(t=!1),f()){if(i.initFlag=!1,i.finalSendParams=o({},i.sendParams),!i.sendParams.isAsync){var e=i.getBounced();if(e)return i.finalSendParams.bounced=e,void i.invokeCallback(0,i.buildParams(i.finalSendParams));i.finalSendParams=o(o({},i.finalSendParams),i.getParams())}var n=i.getStaticResources(),r=i.getFMP(),e=i.getMPFID();n&&(i.finalSendParams.resources=n,i.finalSendParams.has_resource=1),r&&(i.finalSendParams.fmp=Math.round(r)),r&&i.finalSendParams.fcp&&i.finalSendParams.fmp<i.finalSendParams.fcp&&(i.finalSendParams.fmp=i.finalSendParams.fcp),e&&(i.finalSendParams.mpfid=e),u(i.callback)&&(!t&&i.ttiMonitor&&u(i.ttiMonitor.getTTI)?i.ttiMonitor.getTTI(function(t){t&&0<t&&(i.finalSendParams.tti=i.finalSendParams.isAsync?Math.round(t-i.initStart):t),i.invokeCallback(i.finalSendParams.isAsync,i.buildParams(i.finalSendParams))}):i.invokeCallback(i.finalSendParams.isAsync,i.buildParams(i.finalSendParams)))}},this.invokeCallback=function(t,e){if(!t){if(i.hasSentInitPerf)return;i.hasSentInitPerf=!0}i.callback(e)},this.getStaticResources=function(){var t;if(i.staticPerformanceMonitor&&u(i.staticPerformanceMonitor.getResourcePerformance)){var e=i.staticPerformanceMonitor.getResourcePerformance();if(null!==(t=null==e?void 0:e.event)&&void 0!==t&&t.resources)return e.event.resources||[]}},this.getFMP=function(){var t,e;return i.fmpMonitor?(i.fmpMonitor.disconnect(),i.sendParams.isAsync?(null===(t=null==(e=i.fmpMonitor.getFmp())?void 0:e.event)||void 0===t?void 0:t.fmp)||0:u(i.fmpMonitor.getLoadFmp)?1!==i.props.renderType?2===i.props.renderType?i.getPaintTime("first-contentful-paint"):0:null!==(e=null===(e=(e=i.fmpMonitor.getLoadFmp()||{}).event)||void 0===e?void 0:e.fmp)&&void 0!==e?e:0:0):0},this.getMPFID=function(){if(i.mpfidMonitor&&u(i.mpfidMonitor.getMPFID)){var t=i.mpfidMonitor.getMPFID();if(t)return t.mpfid}},this.syncPerfLog=function(){var t,e;i.hasSentInitPerf||(i.perfLog(!0),null!==(e=(t=i.props).report)&&void 0!==e&&e.call(t))},this.hasFID=function(t){i.sendParams.fid=t.fid},this.getParams=function(){if(f()){var t={},e=window.performance.timing;t.dns=e.domainLookupEnd-e.domainLookupStart,t.tcp=e.connectEnd-e.connectStart,t.request=e.responseStart-e.requestStart,t.response=e.responseEnd-e.responseStart,t.processing=e.domComplete-e.domLoading,t.blank=e.responseEnd-e.navigationStart,t.domready=e.domInteractive-e.navigationStart,t.load=e.loadEventEnd-e.navigationStart,e.secureConnectionStart&&(t.ssl=e.connectEnd-e.secureConnectionStart),t.domparse=e.domInteractive-e.responseEnd,t.resource=e.loadEventStart-e.domContentLoadedEventEnd,t.ttfb=e.responseStart-e.requestStart,t.redirect=e.redirectEnd-e.redirectStart;var n=i.getPaintTime("first-paint"),e=i.getPaintTime("first-contentful-paint");n&&(t.fp=Math.round(n)),e&&(t.fcp=Math.round(e));n=function(){if(!h())return null;var t=window.performance.getEntriesByType("navigation");return l(t)&&0!==t.length?t[0]:null}(),e=f()?window.performance.timing:null;return(n||e)&&(t.navigation=null!=n?n:e),e&&(t.timing=e),n&&(t.navigation_timing=n),t}},t.fmpMonitor&&(this.fmpMonitor=t.fmpMonitor);var e=t.performanceAuto;this.performanceAuto=void 0===e||e,this.props=null!=t?t:{}}var ct="StaticErrorMonitor",lt=(mt.prototype.setup=function(t){i()&&(this.callback=t,window.addEventListener("error",this.staticErrorLog.bind(this),!0))},mt.prototype.getSrc=function(t){return"link"===t.tagName.toLowerCase()?pt(t,"href"):pt(t,"src")},mt.prototype.getParams=function(t,e){var n={ev_type:"static",st_type:e},e=T(t);n.st_src=t,n.st_protocol=e.protocol,n.st_domain=e.hostname,n.st_path=e.pathname;e=function(t){var e,n=null===(e=null===(r=window.performance)||void 0===r?void 0:r.getEntriesByType)||void 0===e?void 0:e.call(r,"resource"),r=null==n?void 0:n.length;if(!r)return;for(var i=r-1;-1<i;i--){var o=n[i];if(o.name===t)return o}}(e.href);return e&&(n.timing=e),n},mt.monitorName=ct,mt);function mt(){var o=this;this.name=ct,this.callback=k,this.buildEvent=function(t){var e,n,r=t||window.event||{};try{n=null!==(e=null!==(e=r.target)&&void 0!==e?e:r.srcElement)&&void 0!==e?e:{}}catch(r){return}var i=n.tagName;if(i&&c(i)){i=i.toLowerCase();t=o.getSrc(n);if(t&&t!==window.location.href)return{name:o.name,type:"get",event:o.getParams(t,i)}}},this.staticErrorLog=function(t){t=o.buildEvent(t);t&&o.callback(t)}}function pt(t,e){var n;return t.getAttribute&&u(t.getAttribute)?null!==(n=t.getAttribute(e))&&void 0!==n?n:"":null!==(e=t[e])&&void 0!==e?e:""}var ft="StaticSRIErrorMonitor",ht=(dt.prototype.setup=function(t){i()&&(this.callback=t,window.addEventListener("error",this.staticSRIErrorLog,!0))},dt.prototype.getSrc=function(t){return t&&u(t.getAttribute)?t.getAttribute("src"):t.src||t.href||""},dt.prototype.checkHasIntegrity=function(t){return t&&u(t.getAttribute)?!!t.getAttribute("integrity"):!(null==t||!t.integrity)},dt.prototype.getSourceData=function(t){var e=t.errorFileSize,n=t.realFileSize,r=t.errorFileContext,t=t.src;return{ev_type:"static_sri",sri:{error_file_size:e,real_file_size:n,error_file_context:r,static_file_src:t,static_file_url:T(t).href||""}}},dt.monitorName=ft,dt);function dt(t){var s=this;this.name=ft,this.callback=k,this.onError=k,this.staticSRIErrorLog=function(t){var e,n,r,i=t||window.event||{};try{n=null!==(e=null!==(e=i.target)&&void 0!==e?e:i.srcElement)&&void 0!==e?e:{}}catch(i){return}s.checkHasIntegrity(n)&&(r=s.getSrc(n),t=(null===(t=n.tagName)||void 0===t?void 0:t.toLowerCase())||"",r&&t&&r!==window.location.href&&s.loadScript(r))},this.loadScript=function(o){var t;r()&&"Promise"in window&&u(Promise.all)&&Promise.all([fetch(o,{cache:"force-cache"}).then(function(t){return t.ok?t:new Response}),(t=o+"?vt="+Date.now(),fetch(t,{cache:"no-store"}).then(function(t){return t.ok?t:new Response}))]).then(function(t){var r=t[0],i=t[1];return 200===r.status&&200===i.status?Promise.all([r.text(),i.text()]).then(function(t){var e=t[0]||r.status+","+i.status,n=e.length,t=t[1].length;return s.getSourceData({errorFileSize:n,realFileSize:t,errorFileContext:e,src:o})}):{}}).then(function(t){return null!=t.sri&&(null!=t&&t.sri.error_file_context&&(null==t?void 0:t.sri.error_file_size)!==t.sri.real_file_size?(s.callback({name:s.name,type:"get",event:t}),!0):void 0)}).catch(function(t){s.onError(t)})},this.onError=null!==(t=t.onError)&&void 0!==t?t:k}var vt="MemoryRecordMonitor",gt=(yt.prototype.reportInternal=function(){var t=window.performance.memory;this.add({jsHeapSizeLimit:t.jsHeapSizeLimit,totalJSHeapSize:t.totalJSHeapSize,usedJSHeapSize:t.usedJSHeapSize,timestamp:L()})},yt.prototype.start=function(){this.reportInternal()},yt.prototype.add=function(t){this.memoryQueue.length>=this.maxQueue&&this.memoryQueue.shift(),this.memoryQueue.push(t),this.emit&&this.emit()},yt.monitorName=vt,yt);function yt(t){var e,n=this;this.name=vt,this.emit=null,this.timeInstance=null,this.isUnavailable=function(){return!(p()&&window.performance.memory&&g())},this.setup=function(){n.isUnavailable()||(n.timeInstance=window.setInterval(function(){n.start()},n.timeout))},this.report=function(){return n.memoryQueue.map(function(t){return o({},t)})},this.getMemoryQueue=function(){return n.memoryQueue},this.onLeave=function(){n.isUnavailable()||(n.timeInstance&&(window.clearInterval(n.timeInstance),n.timeInstance=null),n.memoryQueue=[])},this.onShow=function(){n.isUnavailable()||(n.memoryQueue=[],n.timeInstance=window.setInterval(function(){n.start()},n.timeout))},this.visibilityChange=function(){"hidden"===document.visibilityState&&n.onLeave(),"visible"===document.visibilityState&&n.onShow()},this.timeout=null!==(e=null==t?void 0:t.interval)&&void 0!==e?e:1e3,this.maxQueue=null!==(t=null==t?void 0:t.maxQueue)&&void 0!==t?t:10,this.memoryQueue=[],E(this.onLeave,this.visibilityChange)}var bt="EmitMonitor",wt=(St.prototype.setup=function(t){this.callback=t||k},St.prototype.buildCustomTimeLog=function(t,e,n){return function(t){var e=t.name,n=t.tag,t=t.value;if(e&&t){t={ev_type:"custom",cm_name:e=u(e.toString)?e.toString():"",cm_type:"time",cm_value:t=+t};return n&&(n=u(n.toString)?n.toString():"",t.cm_tag=n),{name:"SentCustomTime",type:"get",event:t}}}({name:t,tag:e,value:n})},St.prototype.buildCustomCountLog=function(t,e){return function(t){var e=t.name,t=t.tag;if(e){e={ev_type:"custom",cm_name:e=u(e.toString)?e.toString():"",cm_type:"count"};return t&&(t=u(t.toString)?t.toString():"",e.cm_tag=t),{name:"SentCustomCount",type:"get",event:e}}}({name:t,tag:e})},St.prototype.buildEmitSingleEvent=function(t){t=_(t);if(t&&(!t||t.event_name))return{name:this.name,type:"post",event:{ev_type:"flexible",flexible_data_list:[t]}}},St.monitorName=bt,St);function St(){var i=this;this.name=bt,this.callback=k,this.handOut=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=i.buildEvent.apply(i,s(t));i.callback(n)},this.buildEvent=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("sendCustomCountLog"===t[0])return i.buildCustomCountLog(t[1],t[2]);if("sendCustomTimeLog"===t[0])return i.buildCustomTimeLog(t[1],t[2],t[3]);if("send"===t[0]){if("count"===t[1])return i.buildCustomCountLog(t[2].category,t[2].action);if("timing"===t[1])return i.buildCustomTimeLog(t[2].category,t[2].action,t[2].value)}if("emit"===t[0]&&t[1]&&t[2]){var n={type:t[1],event:t[2]};return i.buildEmitSingleEvent(n)}},this.send=function(t,e,n){var r=n.action,n=n.value;"count"===t&&i.sendCustomCountLog(e,r),"timing"===t&&i.sendCustomTimeLog(e,r,n)},this.sendCustomTimeLog=function(t,e,n){n=i.buildCustomTimeLog(t,e,n);i.callback(n)},this.sendCustomCountLog=function(t,e){e=i.buildCustomCountLog(t,e);return i.callback(e),e},this.emitEvent=function(t){t=i.buildEmitSingleEvent(t);i.callback(t)}}var Tt="BreadcrumbMonitor",kt=(Et.prototype.setup=function(){this.instrumentDOM()},Et.prototype.instrumentDOM=function(){var t;"document"in window&&(t=this,window.document.addEventListener("click",t.domEventHandler("click",t.triggerHandlers.bind(t,"dom")),!1),window.document.addEventListener("keypress",t.keypressEventHandler(t.triggerHandlers.bind(t,"dom")),!1))},Et.prototype.domEventHandler=function(e,n,r){var i=this;return void 0===r&&(r=!1),function(t){i.keypressTimeout=void 0,t&&i.lastCapturedEvent!==t&&(i.lastCapturedEvent=t,i.debounceTimer&&clearTimeout(i.debounceTimer),r?i.debounceTimer=setTimeout(function(){n({event:t,name:e})}):n({event:t,name:e}))}},Et.prototype.triggerHandlers=function(t,e){if(t)try{this.domBreadcrumb(e)}catch(t){}},Et.prototype.keypressEventHandler=function(r){var i=this;return function(t){var e;try{e=t.target}catch(t){return}var n=e&&e.tagName;n&&("INPUT"===n||"TEXTAREA"===n||e.isContentEditable)&&(i.keypressTimeout||i.domEventHandler("input",r)(t),clearTimeout(i.keypressTimeout),i.keypressTimeout=window.setTimeout(function(){i.keypressTimeout=void 0},i.debounceDuration))}},Et.prototype.domBreadcrumb=function(t){var e;try{e=t.event.target?Q(t.event.target):Q(t.event)}catch(t){e="<unknown>"}0!==e.length&&this.addBreadcrumb({category:"ui."+t.name,message:e})},Et.monitorName=Tt,Et);function Et(t){var r=this;this.name=Tt,this.breadcrumbs=[],this.getBreadcrumbs=function(){return r.breadcrumbs},this.addBreadcrumb=function(t){var e=o(o({},t),{timestamp:L()}),n=r.maxBreadcrumbs,t=r.breadcrumbs;return r.breadcrumbs=0<=n?s(t,[e]).slice(-n):s(t,[e]),r},this.debounceDuration=1e3,this.debounceTimer=0,this.breadcrumbs=[],this.maxBreadcrumbs=null!==(t=null==t?void 0:t.maxBreadcrumbs)&&void 0!==t?t:20}var Lt={enableCatchGlobalJSError:!0},Mt="JSExceptionMonitor",Pt=(Rt.prototype.setup=function(t){i()&&(this.callback=t,this.options.enableCatchGlobalJSError&&(window.addEventListener("error",this.jsErrorLog),window.addEventListener("unhandledrejection",this.jsPromiseRejectionLog)))},Rt.prototype.buildEvent=function(t){if(!function(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return 1;default:return t instanceof Error}}(t)?(n(t)&&(e={message:JSON.stringify(t)}),c(t)&&(e={message:t})):e=t,e){var e={ev_type:"js_exception",exception:this.normalizeError(e),breadcrumbs:null!==(e=null===(e=this.options.breadcrumbMonitor)||void 0===e?void 0:e.getBreadcrumbs())&&void 0!==e?e:[]};return{name:this.name,type:"post",event:e}}},Rt.prototype.logError=function(t){t=this.buildEvent(t);t&&this.callback(t)},Rt.prototype.getJSError=function(t){t=t.error;if(t)return t},Rt.prototype.getJSPromiseRejection=function(t){var e=void 0;try{"reason"in t?e=t.reason:"detail"in t&&"reason"in t.detail&&(e=t.detail.reason)}catch(t){}if(e)return e},Rt.prototype.normalizeError=function(t){return{message:t.message,name:t.name,fileName:t.fileName,lineNumber:t.lineNumber,columnNumber:t.columnNumber,stack:t.stack,stacktrace:t.stacktrace,framesToPop:t.framesToPop}},Rt.monitorName=Mt,Rt);function Rt(t){var e=this;this.name=Mt,this.callback=k,this.jsErrorLog=function(t){t=e.getJSError(t);t&&e.logError(t)},this.jsPromiseRejectionLog=function(t){t=e.getJSPromiseRejection(t);t&&e.logError(t)},this.options=o(o({},Lt),t)}function Ct(t,e){return a(t)?a(e)?o(o({},t),{overrides:e}):t:{}}function _t(t,e){var n;return t.forEach(function(t){t.name===e&&(n=t)}),n}var It=function(r){void 0===r&&(r=window);var i=0;return{setSchedule:function(t,e){var n=this;i=r.setTimeout(function(){t(),n.setSchedule(t,e)},e)},clearSchedule:function(){r.clearTimeout(i)},getTimer:function(){return i}}}(),Ot="WorkerMonitor",xt=(Ft.prototype.setup=function(){u(window.Worker)&&this.loadWorker()},Ft.prototype.loadWorker=function(){var n=this;M.get(this.options.workerLink,{getResponseText:function(t){var e;n.worker||(e=new Worker(window.URL.createObjectURL(new Blob([t],{type:"text/javascript"}))),n.worker=e,document.addEventListener("visibilitychange",function(){n.sendVisibilityChange({worker:e,visibilityState:document.visibilityState})}),It.setSchedule(function(){n.heartBeat({worker:e,reportURL:n.options.reportURL,commonParams:n.options.commonParams})},2e3))}})},Ft.prototype.sendVisibilityChange=function(t){var e=t.worker,t=t.visibilityState;e.postMessage({type:"visibilityChange",visibilityState:t})},Ft.prototype.heartBeat=function(t){var e=t.worker,n=t.reportURL,t=t.commonParams;e.postMessage({type:"heartBeat",reportURL:n,commonParams:o(o({},t||{}),{url:window.location.href}),breadcrumbs:null!==(n=null===(n=null===(t=null===(n=this.options)||void 0===n?void 0:n.breadcrumbMonitor)||void 0===t?void 0:t.getBreadcrumbs)||void 0===n?void 0:n.call(t))&&void 0!==n?n:[],memory:null!==(n=null===(n=null===(t=this.options.memoryRecordMonitor)||void 0===t?void 0:t.getMemoryQueue)||void 0===n?void 0:n.call(t))&&void 0!==n?n:[],frames:null!==(t=null===(n=null===(t=this.options.fpsJankTimesMonitor)||void 0===t?void 0:t.getHistoryFrameList)||void 0===n?void 0:n.call(t))&&void 0!==t?t:[]})},Ft.monitorName=Ot,Ft);function Ft(t){this.name=Ot,this.options=t,this.worker=null}var At,Nt,qt,Jt,jt,Bt,Dt=(Ht.prototype.setup=function(){var e=this;this.options.sendEvent&&this.monitors.forEach(function(t){(e.installedMonitors[t.name]=t).setup(e.options.sendEvent)})},Ht.version="3.6.9",Ht);function Ht(t){var i=this;this.getInstalledMonitors=function(){return i.installedMonitors},this.init=function(){var t,e=i.options.config,n=new kt,r=new gt;e.flags.enableStaticError&&i.monitors.push(new lt),e.flags.enablePerformance&&i.monitors.push(new at({fmpMonitor:i.options.fmpMonitor,performanceAuto:e.commonParams.performanceAuto,renderType:e.monitors.BaseMonitor.appTypeSetting.renderType,report:function(){return i.options.report()},preLongTaskObserver:{precollect:null!==(t=null===(t=null===(t=window.Slardar)||void 0===t?void 0:t.lt)||void 0===t?void 0:t.e)&&void 0!==t?t:[],observer:null===(t=null===(t=window.Slardar)||void 0===t?void 0:t.lt)||void 0===t?void 0:t.o}})),e.flags.enableMemoryRecord&&i.monitors.push(r),e.flags.enableFPSJankTimesMonitor&&i.monitors.push(new X({breadcrumbMonitor:n,memoryRecordMonitor:r,report:function(){return i.options.report()}})),i.monitors.push(new wt),e.flags.enableBreadcrumb&&i.monitors.push(n),e.flags.enableCatchJSErrorV2&&i.monitors.push(new Pt({enableCatchGlobalJSError:i.options.config.flags.enableCatchGlobalJSError})),i.monitors.push(new ht({onError:function(t){i.options.captureException(t)}})),e.flags.enableCrash&&i.monitors.push(new xt({reportURL:e.commonParams.reportURLSingle,commonParams:e.commonParams,workerLink:"https://sf1-scmcdn-tos.pstatp.com/goofy/slardar/fe/sdk/plugins/worker.3.6.9.cn.js",breadcrumbMonitor:_t(i.monitors,"BreadcrumbMonitor"),memoryRecordMonitor:_t(i.monitors,"MemoryRecordMonitor"),fpsJankTimesMonitor:_t(i.monitors,"FPSJankTimesMonitor")})),i.setup(),i.handlePreCollect()},this.handlePreCollect=function(){var t=i.options.collect,e=null!==(e=null==t?void 0:t.emit)&&void 0!==e?e:[];l(e)&&e.forEach(function(t){var e,n;null!=t&&t.event&&(e=t.event,n=t.params,t=Ct(null===(t=_t(i.monitors,"EmitMonitor"))||void 0===t?void 0:t.buildEvent.apply(t,s(null!=e?e:{})),n),null!==(n=(e=i.options).sendEvent)&&void 0!==n&&n.call(e,t))});e=null!==(e=null==t?void 0:t.exception)&&void 0!==e?e:[];l(e)&&e.forEach(function(t){var e,n;t&&t.exception&&(e=t.exception,n=t.params,t=Ct(null===(t=_t(i.monitors,"JSExceptionMonitor"))||void 0===t?void 0:t.buildEvent(e),n),null!==(n=(e=i.options).sendEvent)&&void 0!==n&&n.call(e,t))});t=null!==(t=null==t?void 0:t.staticError)&&void 0!==t?t:[];l(t)&&t.forEach(function(t){var e,n,r;null!=t&&t.event&&(n=t.event,r=t.params,t=Ct(null===(e=_t(i.monitors,"StaticErrorMonitor"))||void 0===e?void 0:e.buildEvent(n||{}),r),null!==(r=(e=i.options).sendEvent)&&void 0!==r&&r.call(e,t),null!==(t=_t(i.monitors,"StaticSRIErrorMonitor"))&&void 0!==t&&t.staticSRIErrorLog(n))})},this.options=t,this.monitors=[],this.installedMonitors={}}return At={pluginName:"SetMonitors",version:Dt.version,plugin:Dt},window.__SLARDAR__||(window.__SLARDAR__={}),window.__SLARDAR__&&((Jt={version:Nt=At.plugin.version})[At.pluginName]=At.plugin,qt=Jt,Jt=null!==(Jt=window.__SLARDAR__.plugins)&&void 0!==Jt?Jt:[],Bt=!(jt=[]),Jt.forEach(function(t){t.version===Nt&&("SetMonitors"!==At.pluginName||t.SetMonitors||(t[At.pluginName]=At.plugin),"SetSentryMonitors"!==At.pluginName||t.SetSentryMonitors||(t[At.pluginName]=At.plugin),Bt=!0),jt.push(t)}),Bt||jt.push(qt),window.__SLARDAR__.plugins=jt),t.SetMonitors=Dt,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
