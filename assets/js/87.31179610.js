(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{743:function(e,s,a){"use strict";a.r(s);var n=a(6),t=Object(n.a)({},(function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"不同的依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#不同的依赖包"}},[e._v("#")]),e._v(" 不同的依赖包")]),e._v(" "),a("h3",{attrs:{id:"dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dependencies"}},[e._v("#")]),e._v(" dependencies")]),e._v(" "),a("p",[e._v("生产环境的包")]),e._v(" "),a("h3",{attrs:{id:"devdependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devdependencies"}},[e._v("#")]),e._v(" devDependencies")]),e._v(" "),a("p",[e._v("开发环境的包")]),e._v(" "),a("h3",{attrs:{id:"peerdependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#peerdependencies"}},[e._v("#")]),e._v(" peerDependencies")]),e._v(" "),a("p",[e._v("同等依赖，或者叫同伴依赖，用于指定当前包兼容的宿主版本， peerDependencies 在npm v3发布后废弃了，npm v3后对包依赖的树形结构做了扁平优化，包含了peerDependencies 的功能，所以被取消掉了")]),e._v(" "),a("h3",{attrs:{id:"optionaldependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#optionaldependencies"}},[e._v("#")]),e._v(" optionalDependencies")]),e._v(" "),a("p",[e._v("可选依赖，如果有一些依赖包即使安装失败，项目仍然能够运行或者希望"),a("code",[e._v("npm")]),e._v("继续运行，就可以使用"),a("code",[e._v("optionalDependencies")]),e._v("。另外"),a("code",[e._v("optionalDependencies")]),e._v("会覆盖"),a("code",[e._v("dependencies")]),e._v("中的同名依赖包，所以不要在两个地方都写。")]),e._v(" "),a("h3",{attrs:{id:"bundleddependencies-bundledependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bundleddependencies-bundledependencies"}},[e._v("#")]),e._v(" bundledDependencies/ bundleDependencies")]),e._v(" "),a("p",[e._v("打包依赖，"),a("code",[e._v("bundledDependencies")]),e._v("是一个包含依赖包名的数组对象，在发布时会将这个对象中的包打包到最终的发布包里。如：")]),e._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "fe-weekly",\n  "description": "ELSE 周刊",\n  "version": "1.0.0",\n  "main": "index.js",\n  "devDependencies": {\n    "fw2": "^0.3.2",\n    "grunt": "^1.0.1",\n    "webpack": "^3.6.0"\n  },\n  "dependencies": {\n    "gulp": "^3.9.1",\n    "hello-else": "^1.0.0"\n  },\n  "bundledDependencies": [\n    "fw2",\n    "hello-else"\n  ]\n}\n复制代码\n')])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br"),a("span",{staticClass:"line-number"},[e._v("13")]),a("br"),a("span",{staticClass:"line-number"},[e._v("14")]),a("br"),a("span",{staticClass:"line-number"},[e._v("15")]),a("br"),a("span",{staticClass:"line-number"},[e._v("16")]),a("br"),a("span",{staticClass:"line-number"},[e._v("17")]),a("br"),a("span",{staticClass:"line-number"},[e._v("18")]),a("br"),a("span",{staticClass:"line-number"},[e._v("19")]),a("br"),a("span",{staticClass:"line-number"},[e._v("20")]),a("br")])]),a("p",[e._v("执行打包命令"),a("code",[e._v("npm pack")]),e._v(", 在生成的"),a("code",[e._v("fe-weekly-1.0.0.tgz")]),e._v("包中，将包含"),a("code",[e._v("fw2")]),e._v("和"),a("code",[e._v("hello-else")]),e._v("。 但是值得注意的是，这两个包必须先在"),a("code",[e._v("devDependencies")]),e._v("或"),a("code",[e._v("dependencies")]),e._v("声明过，否则打包会报错。")]),e._v(" "),a("h2",{attrs:{id:"yarn常见命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#yarn常见命令"}},[e._v("#")]),e._v(" yarn常见命令")]),e._v(" "),a("h3",{attrs:{id:"添加依赖包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加依赖包"}},[e._v("#")]),e._v(" 添加依赖包")]),e._v(" "),a("p",[e._v("yarn add xx 生产环境依赖")]),e._v(" "),a("p",[e._v("yarn add xx -D 开发依赖")]),e._v(" "),a("p",[e._v("yarn global add xx 全局安装")]),e._v(" "),a("h3",{attrs:{id:"移除"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#移除"}},[e._v("#")]),e._v(" 移除")]),e._v(" "),a("p",[e._v("yarn remove xx")]),e._v(" "),a("h3",{attrs:{id:"升级"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级"}},[e._v("#")]),e._v(" 升级")]),e._v(" "),a("p",[e._v("yarn upgrade xx")]),e._v(" "),a("h3",{attrs:{id:"其他命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他命令"}},[e._v("#")]),e._v(" 其他命令")]),e._v(" "),a("h4",{attrs:{id:"create"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#create"}},[e._v("#")]),e._v(" Create")]),e._v(" "),a("p",[e._v("yarn create react-app my-app 等价于 yarn global add create-react-app && create-react-app my-app")]),e._v(" "),a("h4",{attrs:{id:"link"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#link"}},[e._v("#")]),e._v(" link")]),e._v(" "),a("p",[e._v("可用于连接其他版本的包")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 生成需要连接的包")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" react\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v(" vx.x.x\nsuccess Registered "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"react"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\ninfo You can now run "),a("span",{pre:!0,attrs:{class:"token variable"}},[a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")]),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"react"')]),a("span",{pre:!0,attrs:{class:"token variable"}},[e._v("`")])]),e._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("in")]),e._v(" the projects where you want to use this module and it will be used instead.\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 连接对应的包")]),e._v("\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("cd")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v("/react-relay\n$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v(" react\n"),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("link")]),e._v(" vx.x.x\nsuccess Registered "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"react"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v(".")]),e._v("\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br"),a("span",{staticClass:"line-number"},[e._v("2")]),a("br"),a("span",{staticClass:"line-number"},[e._v("3")]),a("br"),a("span",{staticClass:"line-number"},[e._v("4")]),a("br"),a("span",{staticClass:"line-number"},[e._v("5")]),a("br"),a("span",{staticClass:"line-number"},[e._v("6")]),a("br"),a("span",{staticClass:"line-number"},[e._v("7")]),a("br"),a("span",{staticClass:"line-number"},[e._v("8")]),a("br"),a("span",{staticClass:"line-number"},[e._v("9")]),a("br"),a("span",{staticClass:"line-number"},[e._v("10")]),a("br"),a("span",{staticClass:"line-number"},[e._v("11")]),a("br"),a("span",{staticClass:"line-number"},[e._v("12")]),a("br")])]),a("p",[e._v("可用unlink 执行类似的命令解除")]),e._v(" "),a("h4",{attrs:{id:"why"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why"}},[e._v("#")]),e._v(" why")]),e._v(" "),a("p",[e._v("查看某个包存在哪些版本")]),e._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[e._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" why jest\n")])]),e._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[e._v("1")]),a("br")])])])}),[],!1,null,null,null);s.default=t.exports}}]);